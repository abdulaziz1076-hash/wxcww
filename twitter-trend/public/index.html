<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ترند تويتر + أفضل وقت للتفاعل</title>
<style>
  body { font-family: "Segoe UI", Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 20px; }
  h1 { text-align: center; color: #333; }
  .container { max-width: 600px; margin: auto; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  label, select { display: block; width: 100%; margin-bottom: 10px; font-size: 16px; }
  ul { list-style: none; padding: 0; }
  li { background: #e0e0e0; margin: 5px 0; padding: 10px; border-radius: 4px; }
</style>
</head>
<body>
<div class="container">
  <h1>ترند تويتر</h1>
  <label for="country">اختر الدولة:</label>
  <select id="country">
    <option value="">-- اختر دولة --</option>
    <option value="united-arab-emirates">الإمارات</option>
    <option value="saudi-arabia">السعودية</option>
    <option value="usa">الولايات المتحدة</option>
    <option value="uk">المملكة المتحدة</option>
  </select>
  <ul id="trendsList"></ul>
</div>

<script>
  const countrySelect = document.getElementById('country');
  const trendsList = document.getElementById('trendsList');

  countrySelect.addEventListener('change', async () => {
    const country = countrySelect.value;
    trendsList.innerHTML = '';

    if (!country) return;

    try {
      const response = await fetch(`https://wxcww.onrender.com/trends/${country}`);
      const data = await response.json();

      if (!data || data.length === 0) {
        trendsList.innerHTML = '<li>لا توجد ترندات حالياً</li>';
      } else {
        data.slice(0,10).forEach(trend => {
          const li = document.createElement('li');
          li.textContent = trend;
          trendsList.appendChild(li);
        });
      }
    } catch (error) {
      trendsList.innerHTML = '<li>حدث خطأ أثناء جلب الترندات</li>';
      console.error(error);
    }
  });
</script>
</body>
</html>
