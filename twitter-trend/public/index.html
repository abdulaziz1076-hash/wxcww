<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ترند تويتر</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
  select, button { padding: 10px; margin: 10px 0; font-size: 16px; }
  ul { list-style: none; padding: 0; }
  li { background: #fff; margin: 5px 0; padding: 10px; border-radius: 5px; }
</style>
</head>
<body>
<h1>ترندات تويتر</h1>

<label for="country">اختر الدولة:</label>
<select id="country">
  <option value="">-- اختر --</option>
  <option value="united-states">الولايات المتحدة</option>
  <option value="saudi-arabia">السعودية</option>
  <option value="uae">الإمارات</option>
  <option value="egypt">مصر</option>
  <option value="uk">المملكة المتحدة</option>
</select>
<button id="loadTrends">تحميل الترندات</button>

<ul id="trendsList"></ul>

<script>
  const btn = document.getElementById('loadTrends');
  const trendsList = document.getElementById('trendsList');
  const countrySelect = document.getElementById('country');

  btn.addEventListener('click', async () => {
    const country = countrySelect.value;
    trendsList.innerHTML = "<li>جاري التحميل...</li>";

    if (!country) {
      trendsList.innerHTML = "<li>الرجاء اختيار دولة</li>";
      return;
    }

    try {
      const response = await fetch(`https://wxcww.onrender.com/trends/${country}`);
      const data = await response.json();

      if (data.error) {
        trendsList.innerHTML = `<li>${data.error}</li>`;
        return;
      }

      if (data.length === 0) {
        trendsList.innerHTML = "<li>لا توجد ترندات حالياً</li>";
        return;
      }

      trendsList.innerHTML = "";
      data.slice(0, 10).forEach(trend => {
        const li = document.createElement('li');
        li.textContent = trend;
        trendsList.appendChild(li);
      });

    } catch (err) {
      trendsList.innerHTML = "<li>حدث خطأ أثناء تحميل الترندات</li>";
    }
  });
</script>
</body>
</html>
